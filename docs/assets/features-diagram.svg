<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <defs>
    <style>
      .bg { fill: #0f1226; }
      .panel { fill: #171a36; stroke: #222754; }
      .box { fill: #1b1f45; stroke: #2a3066; rx: 10; ry: 10; }
      .title { fill: #e9ecff; font: 700 20px system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial; }
      .label { fill: #cfd6ff; font: 600 14px system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial; }
      .item { fill: #b9c1ff; font: 12px system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial; }
      .edge { stroke: #3a3f6b; stroke-width: 2; marker-end: url(#arrow); }
      .legendLabel { fill: #a7b0d6; font: 12px system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial; }
    </style>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#3a3f6b" />
    </marker>
  </defs>

  <rect class="bg" x="0" y="0" width="1200" height="800"/>

  <!-- Title -->
  <text class="title" x="32" y="44">Ouroboros Code — Features & Interactions (SVG)</text>
  <text class="legendLabel" x="32" y="66">Static overview. See docs/features-diagram.html for the interactive map.</text>

  <!-- Main boxes -->
  <g id="cli">
    <rect class="box" x="60" y="110" width="250" height="90"/>
    <text class="label" x="80" y="145">Ouroboros Code CLI</text>
    <text class="item" x="80" y="168">Terminal UI, Slash commands, Context injection</text>
  </g>

  <g id="runtime">
    <rect class="box" x="360" y="110" width="300" height="90"/>
    <text class="label" x="380" y="145">Unified Conversation Runtime</text>
    <text class="item" x="380" y="168">Provider-neutral streaming core</text>
  </g>

  <g id="providers">
    <rect class="box" x="720" y="90" width="380" height="130"/>
    <text class="label" x="740" y="120">Providers</text>
    <text class="item" x="740" y="146">OpenAI</text>
    <text class="item" x="840" y="146">Anthropic</text>
    <text class="item" x="960" y="146">Gemini</text>
  </g>

  <g id="agents">
    <rect class="box" x="60" y="250" width="360" height="150"/>
    <text class="label" x="80" y="280">Agents</text>
    <text class="item" x="80" y="305">Dynamic Agent Selection (Auto Mode)</text>
    <text class="item" x="80" y="328">Personas: Architecture • AI/ML • Security • Perf • Data</text>
    <text class="item" x="80" y="351">DevOps • Frontend • Backend • Specialized • Process</text>
  </g>

  <g id="tools">
    <rect class="box" x="460" y="250" width="300" height="150"/>
    <text class="label" x="480" y="280">Built-in Tools</text>
    <text class="item" x="480" y="305">File system • Multi-file • Shell • Web fetch/search</text>
    <text class="item" x="480" y="328">MCP integration and adapters</text>
  </g>

  <g id="auth">
    <rect class="box" x="800" y="250" width="300" height="150"/>
    <text class="label" x="820" y="280">Authentication</text>
    <text class="item" x="820" y="305">OAuth (Google)</text>
    <text class="item" x="820" y="328">Gemini API Key</text>
    <text class="item" x="820" y="351">Vertex AI</text>
  </g>

  <g id="integrations">
    <rect class="box" x="60" y="440" width="520" height="180"/>
    <text class="label" x="80" y="470">Integrations & Ops</text>
    <text class="item" x="80" y="495">MCP servers • Custom Extensions • GitHub Action • IDE (VS Code)</text>
    <text class="item" x="80" y="518">Sandbox & Security • Telemetry & Monitoring • Deployment</text>
    <text class="item" x="80" y="541">Checkpointing • Memory (GEMINI.md) • Token Caching</text>
  </g>

  <g id="docs">
    <rect class="box" x="620" y="470" width="480" height="150"/>
    <text class="label" x="640" y="500">Docs & Help</text>
    <text class="item" x="640" y="525">Docs Home • Commands Reference • Troubleshooting • Roadmap</text>
  </g>

  <!-- Edges -->
  <line class="edge" x1="310" y1="155" x2="360" y2="155"/>
  <line class="edge" x1="660" y1="155" x2="720" y2="155"/>

  <line class="edge" x1="190" y1="200" x2="190" y2="250"/>
  <line class="edge" x1="610" y1="200" x2="610" y2="250"/>
  <line class="edge" x1="1010" y1="200" x2="1010" y2="250"/>

  <line class="edge" x1="190" y1="400" x2="190" y2="440"/>
  <line class="edge" x1="610" y1="400" x2="610" y2="470"/>

  <!-- Legend -->
  <g id="legend" transform="translate(32,720)">
    <rect class="panel" x="0" y="-44" width="1136" height="60" rx="8" ry="8"/>
    <g transform="translate(16,-20)">
      <circle r="6" cx="0" cy="0" fill="#7aa2ff"/><text class="legendLabel" x="12" y="4">Core</text>
      <circle r="6" cx="90" cy="0" fill="#ffd166"/><text class="legendLabel" x="102" y="4">Architecture</text>
      <circle r="6" cx="220" cy="0" fill="#f4978e"/><text class="legendLabel" x="232" y="4">Agents</text>
      <circle r="6" cx="310" cy="0" fill="#80ed99"/><text class="legendLabel" x="322" y="4">Tools</text>
      <circle r="6" cx="386" cy="0" fill="#9b5de5"/><text class="legendLabel" x="398" y="4">Providers</text>
      <circle r="6" cx="490" cy="0" fill="#06d6a0"/><text class="legendLabel" x="502" y="4">Auth</text>
      <circle r="6" cx="560" cy="0" fill="#f9c74f"/><text class="legendLabel" x="572" y="4">Integrations</text>
      <circle r="6" cx="680" cy="0" fill="#4cc9f0"/><text class="legendLabel" x="692" y="4">Docs</text>
      <text class="legendLabel" x="820" y="4">Arrows indicate data/control flow</text>
    </g>
  </g>
</svg>
